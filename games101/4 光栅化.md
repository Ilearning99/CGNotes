# 光栅化(三角形)

## 如何将标准立方体投影到屏幕

### 什么是屏幕

- 像素的数组
- 数组的大小: 分辨率
- 屏幕是一种典型的光栅表示

### 什么是光栅化

- 光栅(Raster)，是德文中屏幕的意思
- 光栅化(Rasterize)，将物体画在屏幕上

### 什么是像素

- Pixel，是picture element的简称
- 像素是一个拥有统一颜色的小正方体
- 颜色是红、绿、蓝的一种混合

### 定义屏幕空间

- 像素的坐标$(x, y)$，这里$x$和$y$都是正整数
- 像素坐标的范围从$(0,0)$到$(width - 1, height - 1)$
- 像素$(x,y)$的中心在$(x+0.5, y+0.5)$
- 屏幕覆盖的范围$(0,0)$到$(width, height)$

### 视口变换

- 与$z$坐标无关

- $xy$平面内的变换: 从$[-1, 1]^2$映射到$[0,width] \times [0, height]$

- 矩阵表示:
  $$
  \mathbf{M}_{viewport}=
  \begin{pmatrix}
  \frac{width}{2} & 0 & 0 & \frac{width}{2}  \\
  0 & \frac{height}{2} & 0 & \frac{height}{2} \\
  0 & 0 & 1 & 0 \\
  0 & 0 & 0 & 0
  \end{pmatrix}
  $$

## 光栅化

将多边形在屏幕的像素上画出来

### 可以绘画的机器

- CNC Sharpie Drawing Machine 一种数控的绘画机器
- Laser Cutters 激光切割机

### 其他光栅显示设备及技术

- Oscilloscope 示波器
- Cathode Ray Tube 阴极射线管
  - Television 早期电视机，逐行扫描/隔行扫描
- 帧缓冲区，内存中的一块区域用于光栅化显示
- 平板显示设备
  - 计算器 低分辨率
  - 手机 高分辨率
  - 视网膜屏幕 屏幕的分辨率高于视网膜的分辨率
- 液晶显示器
  - LCD Liquid Crystal Display
  - 通过自己的排布，影响光的极化也就是光的偏振方向。
- LED设备
  - LED Light emitting diode 发光二极管
  - LED阵列

- 电子墨水屏
  - Electrophoretic 电泳屏，Electronic Ink，如kindle
  - 特点：非常自然，但是刷新率极低，不能放动画。

### 光栅化-如何画到光栅显示设备上

#### 常用方法

- 多边形网格化(Polygon Meshes)
- 三角形网格化(Triangle Meshes)

#### 三角形-形状的基本单元

- 为什么是三角形
  - 最基本的多边形
    - 可以组成其他任何多边形
  - 独特的性质
    - 三角形一定是一个平面
    - 三角形内外是确定的
      - 凸多边形内外不确定
    - 三角形定义了三个顶点的属性值，三角形内部每个点都可以有方法得到对应的属性值(通过质心坐标插值)

#### 如何用像素的值近似三角形

- 输入: 三角形顶点在屏幕上的坐标
- 输出:一系列像素的值

#### 简单的采样方法

- 什么是函数采样？

  - 在不同的点评估函数的值，就是采样

- 我们可以通过采样离散化一个函数

- 采样是图形学中的核心概念

  - 我们采样时间(1维)，面积(2维)，方向(2维)，体积(3维)，等

  